@page "/employee/employee-list"

<div class="border p-2 d-flex justify-content-between border-bottom-0">
    <h3 class="d-inline-block mb-0">
        <strong><i class="fas fa-list-ul"></i> Employee List</strong>
    </h3>
    <a href="employee/create-employee" class="btn btn-success">
        <i class="fas fa-user-plus"></i> Create New
    </a>
</div>

@{
    if (ErrorMessage == null)
    {
        if (Employees == null)
        {
            <p><em>Loading...</em></p>
        }
        else
        {
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>
                            Employee Name
                        </th>
                        <th>
                            DepartmentName
                        </th>
                        <th>
                            DateOfBirth
                        </th>
                        <th>
                            Email
                        </th>
                        <th>
                            PhoneNumber
                        </th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        if (Employees.Any())
                        {
                            foreach (var item in Employees)
                            {
                                <tr>
                                    <td>
                                        @item.EmployeeName
                                    </td>
                                    <td>
                                        @item.DepartmentName
                                    </td>
                                    <td>
                                        @item.DateOfBirth
                                    </td>
                                    <td>
                                        @item.Email
                                    </td>
                                    <td>
                                        @item.PhoneNumber
                                    </td>
                                    <td>
                                        <a class="badge badge-primary" href="employee/update-employee/@(item.EmployeeId)">Edit</a>
                                        <a class="badge badge-info" href="employee/employee-details/@(item.EmployeeId)">Details</a>
                                        <a class="badge badge-danger" href="employee/delete-employee/@(item.EmployeeId)">Delete</a>
                                    </td>
                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td class="text-center" colspan="5">No employee found in the database.</td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        }

    }
    else
    {
        <div class="alert alert-danger rounded-0">
            @ErrorMessage
        </div>
    }
}